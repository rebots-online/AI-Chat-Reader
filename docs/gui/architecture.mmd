classDiagram
    %% Main Application Structure
    class AI_Chat_Reader_App {
        +Gtk.Application
        +startup()
        +activate()
        +shutdown()
    }
    
    class MainWindow {
        +Gtk.ApplicationWindow
        +header_bar: HeaderBar
        +main_box: Gtk.Box
        +sidebar: Sidebar
        +chat_view: ChatView
        +input_area: InputArea
    }
    
    class HeaderBar {
        +Gtk.HeaderBar
        +menu_button: Gtk.MenuButton
        +new_chat_button: Gtk.Button
    }
    
    class Sidebar {
        +Gtk.Box
        +search_entry: Gtk.SearchEntry
        +chat_list: ChatList
        +settings_button: Gtk.Button
    }
    
    class ChatView {
        +Gtk.ScrolledWindow
        +message_list: Gtk.ListBox
        +add_message()
        +clear_messages()
    }
    
    class MessageBubble {
        +Gtk.Box
        +sender: string
        +timestamp: string
        +content: string
    }
    
    class InputArea {
        +Gtk.Box
        +text_view: Gtk.TextView
        +send_button: Gtk.Button
        +attachment_button: Gtk.Button
        +send_message()
    }
    
    %% Data Models
    class ChatModel {
        +Gio.ListModel
        +chats: GListModel
        +create_chat()
        +delete_chat()
        +get_chat()
    }
    
    class MessageModel {
        +Gio.ListModel
        +messages: GListModel
        +add_message()
        +clear_messages()
    }
    
    class SettingsModel {
        +Gio.Settings
        +get_settings()
        +save_settings()
    }
    
    %% Integration
    class AIClient {
        +base_url: string
        +api_key: string
        +send_message()
        +stream_response()
    }
    
    class Database {
        +sqlite3.Database
        +init_schema()
        +execute_query()
    }
    
    %% Relationships
    AI_Chat_Reader_App --> MainWindow
    MainWindow --> HeaderBar
    MainWindow --> Sidebar
    MainWindow --> ChatView
    MainWindow --> InputArea
    
    ChatView --> MessageBubble
    
    MainWindow --> ChatModel
    MainWindow --> MessageModel
    MainWindow --> SettingsModel
    
    AIClient --> Database
    
    %% Styles
    classDef component fill:#e1f5fe,stroke:#0288d1,color:#01579b
    classDef model fill:#e8f5e9,stroke:#388e3c,color:#1b5e20
    classDef integration fill:#fff3e0,stroke:#f57c00,color:#e65100
    
    class AI_Chat_Reader_App,MainWindow,HeaderBar,Sidebar,ChatView,MessageBubble,InputArea component
    class ChatModel,MessageModel,SettingsModel model
    class AIClient,Database integration
